{
  "info": {
    "_postman_id": "7aa73ba3-9ece-428b-8e6e-cd0e6df664aa",
    "name": "Order Management System API - Portfolio",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "6822459"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "POST - Sign Up (Positive)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const randomSuffix = Math.random().toString(36).substring(2, 8);",
                  "const uniqueUser = `user_${randomSuffix}`;",
                  "",
                  "pm.environment.set(\"signup_username\", uniqueUser);",
                  "pm.environment.set(\"signup_password\", \"Test@1234\");",
                  "",
                  "console.log(\"Registered User:\", uniqueUser);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Validate Status Code (Essential for resource creation)\r",
                  "pm.test(\"Status code is 201 Created\", function () {\r",
                  "    pm.response.to.have.status(201);\r",
                  "});\r",
                  "\r",
                  "// 2. Validate Success Message\r",
                  "pm.test(\"Success message is correct\", function () {\r",
                  "    var jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData.message).to.eql(\"User registered successfully.\");\r",
                  "});\r",
                  "\r",
                  "// 3. Performance Check: Response time should be under 300ms\r",
                  "pm.test(\"Response time is less than 300ms\", function () {\r",
                  "    pm.expect(pm.response.responseTime).to.be.below(300);\r",
                  "});\r",
                  "\r",
                  "// 4. Content-Type Check: Ensure it's JSON\r",
                  "pm.test(\"Content-Type is application/json\", function () {\r",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\r",
                  "});\r",
                  "\r",
                  "// 5. Security Check: Password should NEVER be returned in response body\r",
                  "pm.test(\"Security Check: Password is not leaked in response\", function () {\r",
                  "    var jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData).to.not.have.property('password');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"{{signup_username}}\", \"password\": \"{{signup_password}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/signup",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "signup"
              ]
            },
            "description": "Generated from cURL: curl -X POST http://{{base_url}}/signup -H \"Content-Type: application/json\" -d \"{\\\"username\\\": \\\"{{signup_username}}\\\", \\\"password\\\": \\\"{{signup_password}}\\\"}\""
          },
          "response": []
        },
        {
          "name": "POST - Sign Up (Negative - Duplicate User)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// Just check if the variable exists to ensure the test flow is correct\r",
                  "const existingUser = pm.environment.get(\"signup_username\");\r",
                  "\r",
                  "if (!existingUser) {\r",
                  "    console.error(\"Test Setup Error: 'signup_username' not found. Please run the Positive Sign Up test first.\");\r",
                  "} else {\r",
                  "    console.log(\"Attempting to register the same user again: \" + existingUser);\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Update the status code check from 400 to 409\r",
                  "pm.test(\"Status code is 409 Conflict\", function () {\r",
                  "    pm.response.to.have.status(409);\r",
                  "});\r",
                  "\r",
                  "// 2. Verify the specific error message for duplicate users\r",
                  "const jsonData = pm.response.json();\r",
                  "pm.test(\"Error message is 'User already exists.'\", function () {\r",
                  "    pm.expect(jsonData.message).to.eql(\"User already exists.\");\r",
                  "});\r",
                  "\r",
                  "// 3. Security Check: Ensure no sensitive data is returned\r",
                  "pm.test(\"Response should not contain any user details\", function () {\r",
                  "    pm.expect(jsonData).to.not.have.property(\"password\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"{{signup_username}}\", \"password\": \"{{signup_password}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/signup",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "signup"
              ]
            },
            "description": "Generated from cURL: curl -X POST http://{{base_url}}/signup -H \"Content-Type: application/json\" -d \"{\\\"username\\\": \\\"{{signup_username}}\\\", \\\"password\\\": \\\"{{signup_password}}\\\"}\""
          },
          "response": []
        },
        {
          "name": "POST - Sign Up (Negative - Data Driven)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// 1. Get values from data file\r",
                  "const fileProductId = pm.iterationData.get(\"productId\");\r",
                  "const fileQty = pm.iterationData.get(\"qty\");\r",
                  "\r",
                  "// 2. Fallback logic: If data is missing, set a default to prevent SyntaxError\r",
                  "// productId 999 is used for \"Non-Existent Product\" tests\r",
                  "const finalPid = (fileProductId !== undefined) ? fileProductId : 999;\r",
                  "const finalQty = (fileQty !== undefined) ? fileQty : 0;\r",
                  "\r",
                  "// 3. Set variables specifically for the Request Body\r",
                  "pm.variables.set(\"order_pid\", finalPid);\r",
                  "pm.variables.set(\"order_qty\", finalQty);\r",
                  "\r",
                  "console.log(`[Setup] PID: ${finalPid}, QTY: ${finalQty}`);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Capture dynamic values from the iteration data\r",
                  "// Make sure the key \"testCase\" matches exactly in your JSON file\r",
                  "const scenario = pm.iterationData.get(\"testCase\");\r",
                  "const expectedCode = pm.iterationData.get(\"expectedStatus\") || 400;\r",
                  "\r",
                  "// 2. Validate the HTTP Status Code\r",
                  "// Using template literals to display the scenario name in the report\r",
                  "pm.test(`Status code is ${expectedCode} for: ${scenario || 'Unknown Scenario'}`, function () {\r",
                  "    pm.response.to.have.status(expectedCode);\r",
                  "});\r",
                  "\r",
                  "// 3. Verify the error response message\r",
                  "const jsonData = pm.response.json();\r",
                  "pm.test(`Error message is present for: ${scenario || 'Unknown Scenario'}`, function () {\r",
                  "    pm.expect(jsonData).to.have.property('message');\r",
                  "    pm.expect(jsonData.message).to.be.a('string');\r",
                  "    \r",
                  "    // Log actual server response for debugging\r",
                  "    console.log(`[DDT Log] Case: ${scenario} | Server Response: ${jsonData.message}`);\r",
                  "});\r",
                  "\r",
                  "// 4. Security Check\r",
                  "pm.test(\"Integrity Check: No sensitive data or token returned\", function () {\r",
                  "    pm.expect(jsonData).to.not.have.property(\"password\");\r",
                  "    pm.expect(jsonData).to.not.have.property(\"token\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"productId\": {{order_pid}},\r\n  \"quantity\": {{order_qty}}\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/signup",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "signup"
              ]
            },
            "description": "Generated from cURL: curl -X POST http://{{base_url}}/signup -H \"Content-Type: application/json\" -d \"{\\\"username\\\": \\\"{{signup_username}}\\\", \\\"password\\\": \\\"{{signup_password}}\\\"}\""
          },
          "response": []
        },
        {
          "name": "POST - Login (Positive)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Validate Status Code\r",
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// 2. Validate Token and Save to Environment\r",
                  "var jsonData = pm.response.json();\r",
                  "pm.test(\"Token is present and valid\", function () {\r",
                  "    pm.expect(jsonData.token).to.be.a('string').and.not.empty;\r",
                  "    \r",
                  "    // Save token automatically for the next requests (e.g., Create Order)\r",
                  "    pm.environment.set(\"token\", jsonData.token);\r",
                  "    console.log(\"Success: JWT Token saved to Environment Variable.\");\r",
                  "});\r",
                  "\r",
                  "// 3. Security Check: Sensitive data should not be leaked\r",
                  "pm.test(\"Security: Response does not leak password\", function () {\r",
                  "    pm.expect(jsonData).to.not.have.property('password');\r",
                  "});\r",
                  "\r",
                  "// 4. Performance Check: Standard login time\r",
                  "pm.test(\"Response time is less than 500ms\", function () {\r",
                  "    pm.expect(pm.response.responseTime).to.be.below(500);\r",
                  "});\r",
                  "\r",
                  "// 5. Response Format Check\r",
                  "pm.test(\"Content-Type is application/json\", function () {\r",
                  "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"username\": \"{{signup_username}}\", \"password\": \"{{signup_password}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Generated from cURL: curl -X POST http://{{base_url}}/login -H \"Content-Type: application/json\" -d \"{\\\"username\\\": \\\"{{login_username}}\\\", \\\"password\\\": \\\"{{login_password}}\\\"}\""
          },
          "response": []
        },
        {
          "name": "POST - Login (Negative - Invalid Password)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Validate that the server returns 401 Unauthorized\r",
                  "pm.test(\"Status code is 401 Unauthorized\", function () {\r",
                  "    pm.response.to.have.status(401);\r",
                  "});\r",
                  "\r",
                  "// 2. Verify the error message matches the server's output\r",
                  "const jsonData = pm.response.json();\r",
                  "pm.test(\"Error message is 'Authentication failed. Invalid credentials.'\", function () {\r",
                  "    // Corrected the string to match: \"Authentication failed. Invalid credentials.\"\r",
                  "    pm.expect(jsonData.message).to.eql(\"Authentication failed. Invalid credentials.\");\r",
                  "});\r",
                  "\r",
                  "// 3. Security Check: Ensure no token is generated\r",
                  "pm.test(\"Token should not be provided for failed login\", function () {\r",
                  "    pm.expect(jsonData).to.not.have.property(\"token\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"username\": \"{{signup_username}}\",\r\n  \"password\": \"wrong_password_123\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Generated from cURL: curl -X POST http://{{base_url}}/login -H \"Content-Type: application/json\" -d \"{\\\"username\\\": \\\"{{login_username}}\\\", \\\"password\\\": \\\"{{login_password}}\\\"}\""
          },
          "response": []
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "GET - Get All Products (Positive)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Validate successful HTTP response\r",
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// 2. Verify that the response is a valid, non-empty array\r",
                  "const jsonData = pm.response.json();\r",
                  "pm.test(\"Response is a non-empty product array\", function () {\r",
                  "    pm.expect(jsonData).to.be.an('array');\r",
                  "    pm.expect(jsonData.length).to.be.above(0);\r",
                  "});\r",
                  "\r",
                  "// 3. Schema Validation: Ensure every product contains all mandatory fields and correct data types\r",
                  "pm.test(\"Each product follows the required schema and data integrity\", function () {\r",
                  "    jsonData.forEach((product) => {\r",
                  "        // Check for presence of all keys\r",
                  "        pm.expect(product).to.have.all.keys('id', 'name', 'price', 'stock');\r",
                  "        \r",
                  "        // Validate data types for each property\r",
                  "        pm.expect(product.id).to.be.a('number'); \r",
                  "        pm.expect(product.name).to.be.a('string');\r",
                  "        pm.expect(product.price).to.be.a('number');\r",
                  "        pm.expect(product.stock).to.be.a('number');\r",
                  "    });\r",
                  "});\r",
                  "\r",
                  "// 4. Performance Check: Ensure the response time meets the SLA (Service Level Agreement)\r",
                  "pm.test(\"Response time is within the acceptable limit (less than 200ms)\", function () {\r",
                  "    pm.expect(pm.response.responseTime).to.be.below(200);\r",
                  "});\r",
                  "\r",
                  "// Save the entire product list to an environment variable for other requests\r",
                  "pm.environment.set(\"product_list\", JSON.stringify(pm.response.json()));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/products",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products"
              ]
            },
            "description": "Generated from cURL: curl -X GET http://{{base_url}}/products -H \"Authorization: Bearer {{token}}\""
          },
          "response": []
        }
      ]
    },
    {
      "name": "Orders (CRUD)",
      "item": [
        {
          "name": "POST - Create Order (Positive)",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// 1. Retrieve the product list from environment variables",
                  "var productListRaw = pm.environment.get(\"product_list\");",
                  "var productList = [];",
                  "",
                  "try {",
                  "    if (productListRaw) {",
                  "        productList = JSON.parse(productListRaw);",
                  "    }",
                  "} catch (e) {",
                  "    console.warn(\"[Pre-request] Failed to parse product list.\");",
                  "}",
                  "",
                  "// 2. Filter products with available stock",
                  "var selectedId = 1; // Default fallback ID (Safety mechanism)",
                  "var selectedQty = 1; // Default quantity",
                  "",
                  "// Find products where stock is greater than 0",
                  "var inStockProducts = productList.filter(function(p) { return p.stock > 0; });",
                  "",
                  "if (inStockProducts.length > 0) {",
                  "    // Select a random product from the available list",
                  "    var randomProduct = inStockProducts[Math.floor(Math.random() * inStockProducts.length)];",
                  "    selectedId = randomProduct.id;",
                  "    selectedQty = 1; ",
                  "    console.log(`[Pre-request] Selected Product ID: ${selectedId}, Name: ${randomProduct.name}`);",
                  "} else {",
                  "    console.warn(\"[Pre-request] No available products found. Using Default ID: 1\");",
                  "}",
                  "",
                  "// 3. Set Local Variables (Best for temporary data in Runner) ⭐",
                  "// These variables persist only for the current request execution.",
                  "pm.variables.set(\"order_pid\", selectedId);",
                  "pm.variables.set(\"order_qty\", selectedQty);",
                  "",
                  "console.log(`✅ Final Local Variables -> order_pid: ${selectedId}, order_qty: ${selectedQty}`);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Success Status Code",
                  "pm.test(\"Status code is 201 Created\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "// 2. Data Integrity: Check if productName is included and correct",
                  "const jsonData = pm.response.json();",
                  "pm.test(\"Response contains order details including productName\", function () {",
                  "    pm.expect(jsonData.order).to.have.property('orderId');",
                  "    pm.expect(jsonData.order).to.have.property('productName');",
                  "    pm.expect(jsonData.order.productName).to.be.a('string');",
                  "    pm.expect(jsonData.order.productName).to.not.be.empty;",
                  "    ",
                  "    console.log(`Order Created: ID ${jsonData.order.orderId}, Product: ${jsonData.order.productName}`);",
                  "});",
                  "",
                  "// 3. Match Request Data",
                  "pm.test(\"Order details match requested productId and quantity\", function () {",
                  "    const expectedPid = pm.variables.get(\"order_pid\");",
                  "    const expectedQty = pm.variables.get(\"order_qty\");",
                  "",
                  "    pm.expect(jsonData.order.productId).to.eql(expectedPid);",
                  "    pm.expect(jsonData.order.quantity).to.eql(expectedQty);",
                  "});",
                  "",
                  "// 4. Save Order ID for subsequent tests (Read/Update/Delete)",
                  "if (jsonData.order && jsonData.order.orderId) {",
                  "    pm.environment.set(\"latest_order_id\", jsonData.order.orderId);",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"productId\": {{order_pid}},\r\n  \"quantity\": {{order_qty}}\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders"
              ]
            },
            "description": "Generated from cURL: curl -X POST \"{{base_url}}/orders\" -H \"Authorization: Bearer {{token}}\" -H \"Content-Type: application/json\" -d \"{\\\"productId\\\": \\\"{{order_pid}}\\\", \\\"quantity\\\": {{order_qty}}}\""
          },
          "response": []
        },
        {
          "name": "GET - Retrieve My Orders (Positive)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Success Code Check\r",
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// 2. Data Structure Check\r",
                  "const jsonData = pm.response.json();\r",
                  "pm.test(\"Response should be an array of orders\", function () {\r",
                  "    pm.expect(jsonData).to.be.an('array');\r",
                  "});\r",
                  "\r",
                  "// 3. Logic Check: Ensure our latest order exists in the list\r",
                  "pm.test(\"Latest order ID exists in the list\", function () {\r",
                  "    const latestId = Number(pm.environment.get(\"latest_order_id\"));\r",
                  "    const orderExists = jsonData.some(order => order.orderId === latestId);\r",
                  "    pm.expect(orderExists).to.be.true;\r",
                  "});\r",
                  "\r",
                  "// 4. Extract a random order ID for dynamic testing (Senior QA Strategy)\r",
                  "// This allows us to test any historical order, not just the latest one.\r",
                  "if (jsonData.length > 0) {\r",
                  "    const randomIndex = Math.floor(Math.random() * jsonData.length);\r",
                  "    const pickedOrder = jsonData[randomIndex];\r",
                  "    \r",
                  "    pm.environment.set(\"random_order_id\", pickedOrder.orderId);\r",
                  "    \r",
                  "    console.log(`[Dynamic Selection] Total Orders: ${jsonData.length}`);\r",
                  "    console.log(`[Dynamic Selection] Picked Order ID ${pickedOrder.orderId} (${pickedOrder.productName}) for next test.`);\r",
                  "} else {\r",
                  "    console.warn(\"[Dynamic Selection] No orders found to pick from.\");\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders"
              ]
            }
          },
          "response": []
        },
        {
          "name": "GET - Retrieve Single Order (Positive)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Success Code Check\r",
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "// 2. Data Integrity Check: Compare with our environment variable\r",
                  "const jsonData = pm.response.json();\r",
                  "const expectedId = Number(pm.environment.get(\"latest_order_id\"));\r",
                  "\r",
                  "pm.test(\"Retrieved Order ID matches the expected ID\", function () {\r",
                  "    pm.expect(jsonData.orderId).to.eql(expectedId);\r",
                  "});\r",
                  "\r",
                  "// 3. Schema & Content Validation\r",
                  "pm.test(\"Order details are complete and correct\", function () {\r",
                  "    pm.expect(jsonData).to.have.all.keys('orderId', 'productId', 'productName', 'quantity', 'username');\r",
                  "    pm.expect(jsonData.productName).to.not.be.empty;\r",
                  "    pm.expect(jsonData.username).to.eql(pm.environment.get(\"signup_username\"));\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders/{{random_order_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders",
                "{{random_order_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "GET - Retrieve Single Order (Negative - Order Not Found)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 404 Not Found\", function () {\r",
                  "    pm.response.to.have.status(404);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Error message is 'Order not found.'\", function () {\r",
                  "    const jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData.message).to.eql(\"Order not found.\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders/9999",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders",
                "9999"
              ]
            }
          },
          "response": []
        },
        {
          "name": "PUT - Update Order Quantity (Positive)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Order quantity is updated correctly\", function () {\r",
                  "    const jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData.message).to.eql(\"Order updated successfully.\");\r",
                  "    pm.expect(jsonData.order.quantity).to.eql(5);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\"quantity\": 5}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/orders/{{latest_order_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders",
                "{{latest_order_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "PUT - Update Order (Negative - Data Driven)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// 1. Retrieve dynamic test data from the iteration file\r",
                  "const testCaseName = pm.iterationData.get(\"testCase\");\r",
                  "const expectedStatusCode = pm.iterationData.get(\"expectedStatus\") || 400;\r",
                  "\r",
                  "// 2. Validate the HTTP Status Code for each iteration\r",
                  "pm.test(`Status code is ${expectedStatusCode} for: ${testCaseName}`, function () {\r",
                  "    pm.response.to.have.status(expectedStatusCode);\r",
                  "});\r",
                  "\r",
                  "// 3. Verify the error response structure and message\r",
                  "const jsonData = pm.response.json();\r",
                  "pm.test(`Error message is present for: ${testCaseName}`, function () {\r",
                  "    pm.expect(jsonData).to.have.property('message');\r",
                  "    pm.expect(jsonData.message).to.be.a('string');\r",
                  "    pm.expect(jsonData.message).to.not.be.empty;\r",
                  "    \r",
                  "    // Log the result to Postman Console for debugging\r",
                  "    console.log(`[Negative Test] Scenario: ${testCaseName} | Server Response: ${jsonData.message}`);\r",
                  "});\r",
                  "\r",
                  "// 4. Verify no order object is returned in case of failure\r",
                  "pm.test(\"Response does not contain order data\", function () {\r",
                  "    pm.expect(jsonData).to.not.have.property('order');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"quantity\": {{qty}}\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/orders/{{latest_order_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders",
                "{{latest_order_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "DELETE - Cancel Order (Positive)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200 OK\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "});\r",
                  "\r",
                  "pm.test(\"Success message is correct\", function () {\r",
                  "    const jsonData = pm.response.json();\r",
                  "    pm.expect(jsonData.message).to.eql(\"Order deleted successfully.\");\r",
                  "});\r",
                  "\r",
                  "// 4. Verification: After deletion, a GET for the same ID should fail (Optional/Advanced)\r",
                  "console.log(\"Cleanup complete for Order ID:\", pm.environment.get(\"latest_order_id\"));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders/{{latest_order_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "orders",
                "{{latest_order_id}}"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "order_pid",
      "value": ""
    },
    {
      "key": "order_qty",
      "value": ""
    }
  ]
}